!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],factory):"object"==typeof exports?exports.ReactDraggable=factory(require("react"),require("react-dom")):root.ReactDraggable=factory(root.React,root.ReactDOM)}(this,function(__WEBPACK_EXTERNAL_MODULE_2__,__WEBPACK_EXTERNAL_MODULE_3__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(1),module.exports.DraggableCore=__webpack_require__(10)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createUIEvent(node,position,state){var pageX=position.pageX,pageY=position.pageY,offsetX=pageX-state.startPageX+state.scrollOffsetX,offsetY=pageY-state.startPageY+state.scrollOffsetY;return{node:node,position:{left:offsetX,top:offsetY},deltaX:offsetX-state.lastOffsetX,deltaY:offsetY-state.lastOffsetY}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(3),_reactDom2=_interopRequireDefault(_reactDom),_classnames=__webpack_require__(4),_classnames2=_interopRequireDefault(_classnames),_objectAssign=__webpack_require__(5),_objectAssign2=_interopRequireDefault(_objectAssign),_utilsDomFns=__webpack_require__(6),_utilsPositionFns=__webpack_require__(9),_utilsShims=__webpack_require__(7),_DraggableCore=__webpack_require__(10),_DraggableCore2=_interopRequireDefault(_DraggableCore),_utilsLog=__webpack_require__(11),_utilsLog2=_interopRequireDefault(_utilsLog),_utilsScrollManager=__webpack_require__(12),_utilsScrollManager2=_interopRequireDefault(_utilsScrollManager),Draggable=function(_React$Component){function Draggable(){var _this=this;_classCallCheck(this,Draggable),_get(Object.getPrototypeOf(Draggable.prototype),"constructor",this).apply(this,arguments),this.state={dragging:!1,offsetX:this.props.start.x,offsetY:this.props.start.y,dragX:0,dragY:0,isElementSVG:!1},this.cleanupScrollManager=function(){_this.state.scrollManager&&_this.state.scrollManager.destroy()},this.onDragStart=function(e,coreEvent){(0,_utilsLog2["default"])("Draggable: onDragStart: ",coreEvent.position);var _coreEvent$position=coreEvent.position,pageX=_coreEvent$position.pageX,pageY=_coreEvent$position.pageY,state={dragging:!0,startPageX:pageX,startPageY:pageY,lastPageX:pageX,lastPageY:pageY,lastOffsetX:0,lastOffsetY:0,scrollOffsetX:0,scrollOffsetY:0},shouldStart=_this.props.onStart(e,createUIEvent(_reactDom2["default"].findDOMNode(_this),coreEvent.position,state));return shouldStart===!1?!1:(_this.cleanupScrollManager(),state.scrollManager=new _utilsScrollManager2["default"]({draggable:_this,onScroll:_this.handleScroll,scrollThreshold:_this.props.scrollThreshold}),void _this.setState(state))},this.onMove=function(e,position,state){state=state||_this.state;var uiEvent=createUIEvent(_reactDom2["default"].findDOMNode(_this),position,state),dragX=uiEvent.position.left,dragY=uiEvent.position.top,offsetX=state.offsetX+dragX,offsetY=state.offsetY+dragY;if(Array.isArray(_this.props.grid)){var _snapToGrid=(0,_utilsPositionFns.snapToGrid)(_this.props.grid,offsetX,offsetY),_snapToGrid2=_slicedToArray(_snapToGrid,2);offsetX=_snapToGrid2[0],offsetY=_snapToGrid2[1]}if(_this.props.bounds){var _getBoundPosition=(0,_utilsPositionFns.getBoundPosition)(_this,offsetX,offsetY),_getBoundPosition2=_slicedToArray(_getBoundPosition,2);offsetX=_getBoundPosition2[0],offsetY=_getBoundPosition2[1]}dragX=offsetX-state.offsetX,dragY=offsetY-state.offsetY;var newState={lastOffsetX:uiEvent.position.left,lastOffsetY:uiEvent.position.top,dragX:dragX,dragY:dragY,lastPageX:position.pageX,lastPageY:position.pageY},shouldUpdate=_this.props.onDrag(e,uiEvent);return shouldUpdate===!1?!1:void _this.setState(newState)},this.handleScroll=function(scrollInfo){var state=_this.state,position={pageX:_this.state.lastPageX,pageY:_this.state.lastPageY};if(scrollInfo.isPage)position.pageX=_this.state.lastPageX+scrollInfo.delta.x,position.pageY=_this.state.lastPageY+scrollInfo.delta.y;else{var newState={scrollOffsetX:_this.state.scrollOffsetX+scrollInfo.delta.x,scrollOffsetY:_this.state.scrollOffsetY+scrollInfo.delta.y};_this.setState(newState),state=(0,_objectAssign2["default"])({},_this.state,newState)}_this.onMove(scrollInfo.event,position,state)},this.onDrag=function(e,coreEvent){(0,_utilsLog2["default"])("Draggable: onDrag: ",JSON.stringify(coreEvent.position)),_this.state.scrollManager.checkScroll(coreEvent.position),_this.onMove(e,coreEvent.position)},this.onDragStop=function(e,coreEvent){var shouldStop=_this.props.onStop(e,createUIEvent(_reactDom2["default"].findDOMNode(_this),coreEvent.position,_this.state));return shouldStop===!1?!1:((0,_utilsLog2["default"])("Draggable: onDragStop: ",coreEvent.position),_this.state.scrollManager.destroy(),void _this.setState({scrollManager:null,dragging:!1,offsetX:_this.state.offsetX+_this.state.dragX,offsetY:_this.state.offsetY+_this.state.dragY,dragX:0,dragY:0}))}}return _inherits(Draggable,_React$Component),_createClass(Draggable,[{key:"componentDidMount",value:function(){_reactDom2["default"].findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.cleanupScrollManager()}},{key:"componentWillReceiveProps",value:function(nextProps){(nextProps.start.x!==this.props.start.x||nextProps.start.y!==this.props.start.y)&&this.setState({offsetX:this.state.offsetX+nextProps.start.x-this.props.start.x,offsetY:this.state.offsetY+nextProps.start.y-this.props.start.y})}},{key:"render",value:function(){var style=void 0,svgTransform=null;style=(0,_utilsDomFns.createTransform)({x:(0,_utilsPositionFns.canDragX)(this)?this.state.offsetX+this.state.dragX:this.props.start.x,y:(0,_utilsPositionFns.canDragY)(this)?this.state.offsetY+this.state.dragY:this.props.start.y},this.state.isElementSVG),this.state.isElementSVG&&(svgTransform=style,style={}),this.state.dragging&&!isNaN(this.props.zIndex)&&(style.zIndex=this.props.zIndex);var className=(0,_classnames2["default"])(this.props.children.props.className||"","react-draggable",{"react-draggable-dragging":this.state.dragging,"react-draggable-dragged":this.state.dragged});return _react2["default"].createElement(_DraggableCore2["default"],_extends({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),_react2["default"].cloneElement(_react2["default"].Children.only(this.props.children),{className:className,style:(0,_objectAssign2["default"])({},this.props.children.props.style,style),transform:svgTransform}))}}],[{key:"displayName",value:"Draggable",enumerable:!0},{key:"propTypes",value:(0,_objectAssign2["default"])({},_DraggableCore2["default"].propTypes,{axis:_react.PropTypes.oneOf(["both","x","y"]),bounds:_react.PropTypes.oneOfType([_react.PropTypes.shape({left:_react.PropTypes.Number,right:_react.PropTypes.Number,top:_react.PropTypes.Number,bottom:_react.PropTypes.Number}),_react.PropTypes.oneOf(["parent",!1])]),grid:_react.PropTypes.arrayOf(_react.PropTypes.number),start:_react.PropTypes.shape({x:_react.PropTypes.number,y:_react.PropTypes.number}),zIndex:_react.PropTypes.number,scrollThreshold:_react.PropTypes.number,className:_utilsShims.dontSetMe,style:_utilsShims.dontSetMe,transform:_utilsShims.dontSetMe}),enumerable:!0},{key:"defaultProps",value:(0,_objectAssign2["default"])({},_DraggableCore2["default"].defaultProps,{axis:"both",bounds:!1,start:{x:0,y:0},zIndex:NaN,scrollThreshold:40}),enumerable:!0}]),Draggable}(_react2["default"].Component);exports["default"]=Draggable,module.exports=exports["default"]},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_2__},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_3__},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg))classes.push(classNames.apply(null,arg));else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}var hasOwn={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=classNames:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},function(module,exports){"use strict";function toObject(val){if(null===val||void 0===val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}var hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function matchesSelector(el,selector){if(!(el instanceof Node))throw new TypeError("Value of argument 'el' violates contract, expected Node got "+(null===el?"null":el instanceof Object&&el.constructor?el.constructor.name:typeof el));if("string"!=typeof selector)throw new TypeError("Value of argument 'selector' violates contract, expected string got "+(null===selector?"null":selector instanceof Object&&selector.constructor?selector.constructor.name:typeof selector));return matchesSelectorFunc||(matchesSelectorFunc=(0,_shims.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(method){return(0,_shims.isFunction)(el[method])})),el[matchesSelectorFunc].call(el,selector)}function addEvent(el,event,handler){if("string"!=typeof event)throw new TypeError("Value of argument 'event' violates contract, expected string got "+(null===event?"null":event instanceof Object&&event.constructor?event.constructor.name:typeof event));if("function"!=typeof handler)throw new TypeError("Value of argument 'handler' violates contract, expected function got "+(null===handler?"null":handler instanceof Object&&handler.constructor?handler.constructor.name:typeof handler));el&&(el.attachEvent?el.attachEvent("on"+event,handler):el.addEventListener?el.addEventListener(event,handler,!0):el["on"+event]=handler)}function removeEvent(el,event,handler){if("string"!=typeof event)throw new TypeError("Value of argument 'event' violates contract, expected string got "+(null===event?"null":event instanceof Object&&event.constructor?event.constructor.name:typeof event));if("function"!=typeof handler)throw new TypeError("Value of argument 'handler' violates contract, expected function got "+(null===handler?"null":handler instanceof Object&&handler.constructor?handler.constructor.name:typeof handler));el&&(el.detachEvent?el.detachEvent("on"+event,handler):el.removeEventListener?el.removeEventListener(event,handler,!0):el["on"+event]=null)}function outerHeight(node){if(!(node instanceof Node))throw new TypeError("Value of argument 'node' violates contract, expected Node got "+(null===node?"null":node instanceof Object&&node.constructor?node.constructor.name:typeof node));var height=node.clientHeight,computedStyle=window.getComputedStyle(node);return height+=(0,_shims["int"])(computedStyle.borderTopWidth),height+=(0,_shims["int"])(computedStyle.borderBottomWidth)}function outerWidth(node){if(!(node instanceof Node))throw new TypeError("Value of argument 'node' violates contract, expected Node got "+(null===node?"null":node instanceof Object&&node.constructor?node.constructor.name:typeof node));var width=node.clientWidth,computedStyle=window.getComputedStyle(node);return width+=(0,_shims["int"])(computedStyle.borderLeftWidth),width+=(0,_shims["int"])(computedStyle.borderRightWidth)}function innerHeight(node){if(!(node instanceof Node))throw new TypeError("Value of argument 'node' violates contract, expected Node got "+(null===node?"null":node instanceof Object&&node.constructor?node.constructor.name:typeof node));var height=node.clientHeight,computedStyle=window.getComputedStyle(node);return height-=(0,_shims["int"])(computedStyle.paddingTop),height-=(0,_shims["int"])(computedStyle.paddingBottom)}function innerWidth(node){if(!(node instanceof Node))throw new TypeError("Value of argument 'node' violates contract, expected Node got "+(null===node?"null":node instanceof Object&&node.constructor?node.constructor.name:typeof node));var width=node.clientWidth,computedStyle=window.getComputedStyle(node);return width-=(0,_shims["int"])(computedStyle.paddingLeft),width-=(0,_shims["int"])(computedStyle.paddingRight)}function createTransform(position,isSVG){if("object"!=typeof position)throw new TypeError("Value of argument 'position' violates contract, expected object got "+(null===position?"null":position instanceof Object&&position.constructor?position.constructor.name:typeof position));if(null!=isSVG&&"boolean"!=typeof isSVG)throw new TypeError("Value of argument 'isSVG' violates contract, expected null or boolean got "+(null===isSVG?"null":isSVG instanceof Object&&isSVG.constructor?isSVG.constructor.name:typeof isSVG));return isSVG?createSVGTransform(position):createCSSTransform(position)}function createCSSTransform(_ref){var x=_ref.x,y=_ref.y;return function(){if(null==={x:x,y:y}||"object"!=typeof{x:x,y:y}||"number"!=typeof{x:x,y:y}.x||"number"!=typeof{x:x,y:y}.y)throw new TypeError("Value of argument 'undefined' violates contract, expected Object with properties x and y got "+(null==={x:x,y:y}?"null":{x:x,y:y}instanceof Object&&{x:x,y:y}.constructor?{x:x,y:y}.constructor.name:typeof{x:x,y:y}));var out={transform:"translate("+x+"px,"+y+"px)"};return _getPrefix2["default"]&&(out[_getPrefix2["default"]+"Transform"]=out.transform),out}()}function createSVGTransform(_ref2){var x=_ref2.x,y=_ref2.y;return function(){if(null==={x:x,y:y}||"object"!=typeof{x:x,y:y}||"number"!=typeof{x:x,y:y}.x||"number"!=typeof{x:x,y:y}.y)throw new TypeError("Value of argument 'undefined' violates contract, expected Object with properties x and y got "+(null==={x:x,y:y}?"null":{x:x,y:y}instanceof Object&&{x:x,y:y}.constructor?{x:x,y:y}.constructor.name:typeof{x:x,y:y}));return"translate("+x+","+y+")"}()}function styleHacks(){var childStyle=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],touchHacks={touchAction:"none"};return(0,_objectAssign2["default"])(touchHacks,childStyle)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchesSelector=matchesSelector,exports.addEvent=addEvent,exports.removeEvent=removeEvent,exports.outerHeight=outerHeight,exports.outerWidth=outerWidth,exports.innerHeight=innerHeight,exports.innerWidth=innerWidth,exports.createTransform=createTransform,exports.createCSSTransform=createCSSTransform,exports.createSVGTransform=createSVGTransform,exports.styleHacks=styleHacks;var _shims=__webpack_require__(7),_getPrefix=__webpack_require__(8),_getPrefix2=_interopRequireDefault(_getPrefix),_objectAssign=__webpack_require__(5),_objectAssign2=_interopRequireDefault(_objectAssign),matchesSelectorFunc=""},function(module,exports){"use strict";function findInArray(array,callback){for(var i=0,_length=array.length;_length>i;i++)if(callback.apply(callback,[array[i],i,array]))return array[i]}function isFunction(func){return"function"==typeof func||"[object Function]"===Object.prototype.toString.call(func)}function isNum(num){return"number"==typeof num&&!isNaN(num)}function int(a){return parseInt(a,10)}function dontSetMe(props,propName,componentName){if(props[propName])throw new Error("Invalid prop "+propName+" passed to "+componentName+" - do not set this, set it on the child.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.findInArray=findInArray,exports.isFunction=isFunction,exports.isNum=isNum,exports["int"]=int,exports.dontSetMe=dontSetMe},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(){if("undefined"==typeof window||"undefined"==typeof window.document)return"";var styles=window.getComputedStyle(document.documentElement,""),pre=(Array.prototype.slice.call(styles).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1];return void 0===pre||null===pre?"":"ms"===pre?pre:void 0===pre||null===pre?"":pre.slice(0,1).toUpperCase()+pre.slice(1)}(),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getBoundPosition(draggable,offsetX,offsetY){if(!draggable.props.bounds)return[offsetX,offsetY];var bounds=JSON.parse(JSON.stringify(draggable.props.bounds)),node=_reactDom2["default"].findDOMNode(draggable),parent=node.parentNode;if("parent"===bounds){var nodeStyle=window.getComputedStyle(node),parentStyle=window.getComputedStyle(parent);bounds={left:-node.offsetLeft+(0,_shims["int"])(parentStyle.paddingLeft)+(0,_shims["int"])(nodeStyle.borderLeftWidth)+(0,_shims["int"])(nodeStyle.marginLeft),top:-node.offsetTop+(0,_shims["int"])(parentStyle.paddingTop)+(0,_shims["int"])(nodeStyle.borderTopWidth)+(0,_shims["int"])(nodeStyle.marginTop),right:(0,_domFns.innerWidth)(parent)-(0,_domFns.outerWidth)(node)-node.offsetLeft,bottom:(0,_domFns.innerHeight)(parent)-(0,_domFns.outerHeight)(node)-node.offsetTop}}return(0,_shims.isNum)(bounds.right)&&(offsetX=Math.min(offsetX,bounds.right)),(0,_shims.isNum)(bounds.bottom)&&(offsetY=Math.min(offsetY,bounds.bottom)),(0,_shims.isNum)(bounds.left)&&(offsetX=Math.max(offsetX,bounds.left)),(0,_shims.isNum)(bounds.top)&&(offsetY=Math.max(offsetY,bounds.top)),[offsetX,offsetY]}function snapToGrid(grid,pendingX,pendingY){var x=Math.round(pendingX/grid[0])*grid[0],y=Math.round(pendingY/grid[1])*grid[1];return[x,y]}function canDragX(draggable){return"both"===draggable.props.axis||"x"===draggable.props.axis}function canDragY(draggable){return"both"===draggable.props.axis||"y"===draggable.props.axis}function getControlPosition(e){var position=e.targetTouches&&e.targetTouches[0]||e,pageX=position.pageX,pageY=position.pageY,pageXOffset=window.pageXOffset,pageYOffset=window.pageYOffset;return void 0===pageX&&(pageX=position.clientX+pageXOffset,pageY=position.clientY+pageYOffset),{pageX:pageX,pageY:pageY,clientX:pageX-pageXOffset,clientY:pageY-pageYOffset}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBoundPosition=getBoundPosition,exports.snapToGrid=snapToGrid,exports.canDragX=canDragX,exports.canDragY=canDragY,exports.getControlPosition=getControlPosition;var _shims=__webpack_require__(7),_reactDom=__webpack_require__(3),_reactDom2=_interopRequireDefault(_reactDom),_domFns=__webpack_require__(6)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(3),_reactDom2=_interopRequireDefault(_reactDom),_utilsDomFns=__webpack_require__(6),_utilsPositionFns=__webpack_require__(9),_utilsShims=__webpack_require__(7),_utilsLog=__webpack_require__(11),_utilsLog2=_interopRequireDefault(_utilsLog),eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},DraggableCore=function(_React$Component){function DraggableCore(props){var _this=this;_classCallCheck(this,DraggableCore),_get(Object.getPrototypeOf(DraggableCore.prototype),"constructor",this).call(this,props),this.state={dragging:!1},this.createCoreEvent=function(position){var clientX=position.clientX,clientY=position.clientY,pageX=position.pageX,pageY=position.pageY;return{node:_reactDom2["default"].findDOMNode(_this),position:{clientX:clientX,clientY:clientY,pageX:pageX,pageY:pageY}}},this.eatDragEvent=function(e){_this.props.eatDragEvents&&e&&e.preventDefault&&e.preventDefault()},this.handleDragStart=function(e,dragType){if(!_this.state.dragging){var dragEventFor=eventsFor[dragType];if(_this.props.onMouseDown(e),!_this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;if(!(_this.props.disabled||_this.props.handle&&!(0,_utilsDomFns.matchesSelector)(e.target,_this.props.handle)||_this.props.cancel&&(0,_utilsDomFns.matchesSelector)(e.target,_this.props.cancel))){var coreEvent=_this.createCoreEvent((0,_utilsPositionFns.getControlPosition)(e));(0,_utilsLog2["default"])("DraggableCore: handleDragStart: ",coreEvent.position);var shouldUpdate=_this.props.onStart(e,coreEvent);shouldUpdate!==!1&&(e.targetTouches&&_this.setState({touchIdentifier:e.targetTouches[0].identifier}),_this.eatDragEvent(e),_this.setState({dragging:dragType}),(0,_utilsDomFns.addEvent)(document,dragEventFor.move,_this.handleDrag),(0,_utilsDomFns.addEvent)(document,dragEventFor.stop,_this.handleDragStop))}}},this.handleDrag=function(e){if(_this.state.dragging&&(!e.targetTouches||e.targetTouches[0].identifier===_this.state.touchIdentifier)){_this.eatDragEvent(e);var coreEvent=_this.createCoreEvent((0,_utilsPositionFns.getControlPosition)(e));(0,_utilsLog2["default"])("DraggableCore: handleDrag: ",coreEvent.position);var shouldUpdate=_this.props.onDrag(e,coreEvent);return shouldUpdate===!1?void _this.handleDragStop(e):void 0}},this.handleDragStop=function(e){if(_this.state.dragging&&(!e.changedTouches||e.changedTouches[0].identifier===_this.state.touchIdentifier)){var dragEventFor=eventsFor[_this.state.dragging];_this.eatDragEvent(e);var coreEvent=_this.createCoreEvent((0,_utilsPositionFns.getControlPosition)(e));(0,_utilsLog2["default"])("DraggableCore: handleDragStop: ",coreEvent.position),_this.setState({dragging:null}),_this.props.onStop(e,coreEvent),(0,_utilsLog2["default"])("DraggableCore: Removing handlers"),(0,_utilsDomFns.removeEvent)(document,dragEventFor.move,_this.handleDrag),(0,_utilsDomFns.removeEvent)(document,dragEventFor.stop,_this.handleDragStop)}},this.onMouseDown=function(e){return _this.handleDragStart(e,"mouse")},this.onTouchStart=function(e){return _this.handleDragStart(e,"touch")}}return _inherits(DraggableCore,_React$Component),_createClass(DraggableCore,null,[{key:"displayName",value:"DraggableCore",enumerable:!0},{key:"propTypes",value:{allowAnyClick:_react.PropTypes.bool,disabled:_react.PropTypes.bool,handle:_react.PropTypes.string,cancel:_react.PropTypes.string,onStart:_react.PropTypes.func,onDrag:_react.PropTypes.func,onStop:_react.PropTypes.func,onMouseDown:_react.PropTypes.func,className:_utilsShims.dontSetMe,style:_utilsShims.dontSetMe,transform:_utilsShims.dontSetMe},enumerable:!0},{key:"defaultProps",value:{allowAnyClick:!1,cancel:null,disabled:!1,handle:null,transform:null,eatDragEvents:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},enumerable:!0}]),_createClass(DraggableCore,[{key:"componentWillUnmount",value:function(){(0,_utilsDomFns.removeEvent)(document,eventsFor.mouse.move,this.handleDrag),(0,_utilsDomFns.removeEvent)(document,eventsFor.touch.move,this.handleDrag),(0,_utilsDomFns.removeEvent)(document,eventsFor.mouse.stop,this.handleDragStop),(0,_utilsDomFns.removeEvent)(document,eventsFor.touch.stop,this.handleDragStop)}},{key:"render",value:function(){return _react2["default"].cloneElement(_react2["default"].Children.only(this.props.children),{style:(0,_utilsDomFns.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.handleDragStop,onTouchEnd:this.handleDragStop})}}]),DraggableCore}(_react2["default"].Component);exports["default"]=DraggableCore,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function log(str,data){}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=log,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getScrollAmount(element){return element===topElement?{x:window.pageXOffset,y:window.pageYOffset}:{x:element.scrollLeft,y:element.scrollTop}}Object.defineProperty(exports,"__esModule",{value:!0});var _domFns=__webpack_require__(6),_reactDom=__webpack_require__(3),_reactDom2=_interopRequireDefault(_reactDom),defaultOptions={scrollThreshold:40,onScroll:function(){}},overflowRegex=/(auto|scroll)/,topElement=window,raf=window.requestAnimationFrame||function(fn){return setTimeout(fn,16)},caf=window.cancelAnimationFrame||function(i){return clearTimeout(i)},ScrollManager=function ScrollManager(inOptions){var _this=this;if(_classCallCheck(this,ScrollManager),this.isScrollOnDrag=function(){return _this.options.scrollThreshold>0},this.getScrollBounds=function(){if(!_this.isScrollOnDrag())return null;if(_this.options.element===topElement)return{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth};var bcr=_this.options.element.getBoundingClientRect();return{top:bcr.top+window.pageYOffset,bottom:bcr.bottom+window.pageYOffset,left:bcr.left+window.pageXOffset,right:bcr.right+window.pageXOffset}},this.destroy=function(){_this.noop||(_this.state.raf&&(caf(_this.state.raf),_this.state.raf=null),_this.detachEvents())},this.attachEvents=function(){(0,_domFns.addEvent)(_this.options.element,"scroll",_this.handleScroll)},this.detachEvents=function(){(0,_domFns.removeEvent)(_this.options.element,"scroll",_this.handleScroll)},this.checkScroll=function(position){if(_this.isScrollOnDrag()){var scrollingX=0,scrollingY=0,scrollThreshold=_this.options.scrollThreshold,x=void 0,y=void 0;_this.options.element===topElement?(x=position.clientX,y=position.clientY):(x=position.pageX,y=position.pageY),x<_this.state.scrollBounds.left+scrollThreshold?scrollingX=-_this.state.scrollBounds.left-scrollThreshold+x:x>_this.state.scrollBounds.right-scrollThreshold&&(scrollingX=x-_this.state.scrollBounds.right+scrollThreshold),y<_this.state.scrollBounds.top+scrollThreshold?scrollingY=-_this.state.scrollBounds.top-scrollThreshold+y:y>_this.state.scrollBounds.bottom-scrollThreshold&&(scrollingY=y-_this.state.scrollBounds.bottom+scrollThreshold),_this.state.scrollingX=scrollingX,_this.state.scrollingY=scrollingY;var self=_this;scrollingX||scrollingY?_this.state.raf||(_this.state.raf=raf(function(){return self.doScroll()})):_this.state.raf&&(caf(_this.state.raf),_this.state.raf=null)}},this.doScroll=function(){function getScrollDelta(val,threshold){var neg=1;return 0>val&&(neg=-1,val=-val),val=Math.min(val/threshold,1),Math.ceil(val*val*maxScrollSpeed*neg)}var maxScrollSpeed=100,element=_this.options.element,self=_this,deltaX=getScrollDelta(self.state.scrollingX,self.options.scrollThreshold),deltaY=getScrollDelta(self.state.scrollingY,self.options.scrollThreshold);_this.state.scrollingX||_this.state.scrollingY?(element===topElement?window.scrollBy(deltaX,deltaY):(element.scrollLeft+=deltaX,element.scrollTop+=deltaY),
_this.state.raf=raf(function(){return self.doScroll()})):_this.state.raf=null},this.handleScroll=function(e){var _getScrollAmount=getScrollAmount(_this.options.element),x=_getScrollAmount.x,y=_getScrollAmount.y,deltaX=x-_this.state.scrollX,deltaY=y-_this.state.scrollY;(deltaX||deltaY)&&(_this.state.scrollX=x,_this.state.scrollY=y,_this.options.onScroll({event:e,isPage:_this.options.element===topElement,scroll:{x:x,y:y},delta:{x:deltaX,y:deltaY}}))},!inOptions||!inOptions.draggable)throw"ScrollManager needs a draggable to work with.";this.options={};for(var opt in defaultOptions)this.options[opt]=void 0===inOptions[opt]?defaultOptions[opt]:inOptions[opt];if(!this.options.element){var draggableNode=_reactDom2["default"].findDOMNode(inOptions.draggable),parentNode=draggableNode.parentElement,elementStyle=window.getComputedStyle(draggableNode),position=elementStyle.position,excludeStaticParent="absolute"===position,parentStyle=void 0,scrollParent=void 0;if("fixed"===position)return void(this.noop=!0);for(;parentNode&&!scrollParent;)parentStyle=window.getComputedStyle(parentNode),excludeStaticParent&&"static"===parentStyle.position||overflowRegex.test(parentStyle.overflow+parentStyle.overflowY+parentStyle.overflowX)&&(scrollParent=parentNode),parentNode=parentNode.parentElement;this.options.element=scrollParent||topElement}var scrollAmount=getScrollAmount(this.options.element);this.state={scrollX:scrollAmount.x,scrollY:scrollAmount.y,scrollingX:0,scrollingY:0,scrollBounds:this.getScrollBounds(),raf:null},this.attachEvents()};exports["default"]=ScrollManager,module.exports=exports["default"]}])});
//# sourceMappingURL=dist/react-draggable.min.js